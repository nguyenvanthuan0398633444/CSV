@model ProjectTeamNET.ViewModels.ManhourReportViewModel

<head>
    <!-- BootstrapのCSS読み込み -->
    <!-- bootstrap-datepickerのCSS読み込み -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <!-- jQuery読み込み -->
    <!-- Popper.js読み込み -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <!-- BootstrapのJS読み込み -->
    <!-- bootstrap-datepickerのJS読み込み -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.ja.min.js"></script>
    <link href="~/css/ManhourReport.css" rel="stylesheet" />
    <!-- FontAwesomeの読み込み -->
    <link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet">
</head>
<script type="text/javascript">
    $(function () {
        $('[data-toggle="tooltip"]').tooltip();
        $('#datepicker1').datepicker({ format: "yyyy/mm/dd", language: "ja", autoclose: true, orientation: 'bottom left' });
        $('#datepicker2').datepicker({ format: "yyyy/mm/dd", language: "ja", autoclose: true, orientation: 'bottom left' });
    })
</script>
@*<nav class="navbar navbar-expand-sm navbar-dark bg-primary sticky-top flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#"><i class="fa fa-home"></i> 工数管理システム</a>
    <div class="collapse navbar-collapse" id="navmenu1">
        <div class="navbar-nav">
            <span class="form-control-menu">@ViewBag.Title</span>
        </div>
    </div>
    <ul class="navbar-nav px-3 d-flex align-items-center">
        <li class="nav-item text-nowrap">
            <button type="button" class="btn btn-light"><i class="fas fa-backward"></i> 戻る</button>
        </li>
        <span class="form-control-user">テスト太郎さん</span>
        <li class="nav-item text-nowrap">
            <button type="button" class="btn btn-light">ログアウト <i class="fas fa-sign-out-alt"></i></button>
        </li>
    </ul>
</nav>
<div class="row">*@

    <main role="main" class="container-fluid px-4">

        <!-- <fieldset class="form-group">
        <div class="row">
            <legend class="col-form-label col-md-2 pt-0">集計単位2</legend>
            <div class="col-md-10">
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="customRadio2-1" name="customRadio2" type="radio" class="custom-control-input" checked>
                    <label class="custom-control-label" for="customRadio2-1">個人別</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="customRadio2-2" name="customRadio2" type="radio" class="custom-control-input">
                    <label class="custom-control-label" for="customRadio2-2">所属別</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="customRadio2-3" name="customRadio2" type="radio" class="custom-control-input">
                    <label class="custom-control-label" for="customRadio2-3">テーマ別</label>
                </div>
            </div>
        </div>
    </fieldset>
    -->

        <div class="h5 pt-1 pb-1 border-bottom">画面項目呼出・保存・クリア</div>

        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right">呼出</label>
            <div class="col-md-10">
                <div class="col-md-4 input-group pl-0">

                    @Html.DropDownList("userScreenName", Model.Users, "保存名...", new { @class = "form-control form-control-sm", @onchange = "changeCall();" })
                    <button class="btn btn-sm btn-outline-secondary mr-2" onclick="deleteUserScreenName()">削除</button>
                </div>
            </div>
            <label class="col-form-label col-md-2 text-right">保存</label>
            <div class="col-md-10">
                <div class="col-md-4 input-group pl-0">
                    <input type="text" class="form-control form-control-sm" value="" id="SaveName" />
                    <button class="btn btn-sm btn-outline-secondary mr-2">保存</button>
                </div>
                <div id="savename"></div>
            </div>
            <label class="col-form-label col-md-2 text-right">クリア</label>
            <div class="col-md-10">
                <div class="col-md-4 input-group pl-0">
                    <button class="btn btn-sm btn-outline-secondary mr-2">クリア</button>
                </div>
            </div>
        </div>

        <div class="h5 pt-1 pb-1 border-bottom">絞り込み条件</div>

        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right">期間</label>
            <div class="col-md-2 p-0">
                <div class="input-group date" id="datepicker1">
                    <input type="text" class="form-control form-control-sm" id="fromDate" />
                    <span class="input-group-append">
                        <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                    </span>
                </div>
            </div>
            <div class="col-md-1 p-0 text-md-center"><span>～</span></div>
            <div class="col-md-2 p-0">
                <div class="input-group date" id="datepicker2">
                    <input type="text" class="form-control form-control-sm" id="toDate" />
                    <span class="input-group-append">
                        <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right"></label>
            <div class="col-md-2 p-0">
                <div class="input-group date">
                    <span id="fromDate1">
                    </span>
                </div>
            </div>
            <div class="col-md-1 p-0 text-md-center"></div>
            <div class="col-md-2 p-0">
                <div class="input-group date">
                    <span id="toDate1">
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right">所属</label>
            <div class="col-md-10">
                <div class="row align-items-center" id="addFirst">
                    <div class="col-md-4 input-group pl-0">
                        <select class="form-control form-control-sm" id="GroupId">
                            @foreach (var item in Model.GroupName)
                            {
                                <option value="@item.group_code">@item.GroupName</option>
                            }
                        </select>
                        <div class="col-md-1"></div>
                    </div>
                    <div class="col-md-3 input-group pl-0" id="addUser1">
                        <div class="input-group pl-0">
                            <button class="btn btn-sm btn-outline-secondary mr-2" data-toggle="collapse" data-target="#collapseOne2" onclick="addUsertmp()"><i class="fas fa-plus"></i> ユーザ追加</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="addUser2"></div>

        <div class="form-group row" id="btn_addUser" hidden>
            <div class="col-md-2"></div>
            <div class="col-md-10 p-0">
                <div class="row align-items-center">
                    <div class="col-md-4 input-group pl-0">
                    </div>
                    <div class="col-md-3 input-group pl-0">
                        <button class="btn btn-sm btn-outline-secondary mr-2" data-toggle="collapse" data-target="#collapseOne2" onclick="addUser()"><i class="fas fa-plus"></i> ユーザ追加</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="AddGroup"></div>

        <div class="form-group row">
            <div class="col-md-2"></div>
            <div class="col-md-10 p-0">
                <button class="btn btn-sm btn-outline-secondary mr-2" data-toggle="collapse" data-target="#collapseOne2" onclick="addGroup()"><i class="fas fa-plus"></i> 所属追加</button>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right">テーマ</label>


        </div>
        <div id="AddTheme"></div>




        <div class="form-group row">
            <div class="col-md-2"></div>
            <div class="col-md-10 p-0">
                <button class="btn btn-sm btn-outline-secondary mr-2" onclick="addTheme()"><i class="fas fa-plus"></i> テーマ追加</button>
            </div>
        </div>

        <div class="h5 pt-1 pb-1 border-bottom">レイアウト設定</div>

        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right">表示項目</label>
            <div class="col-md-10 p-0">
                <div class="form-row align-items-center">
                    <div class="col-auto">
                        <p class="m-0">選択しない項目</p>
                        <select multiple style="height:200px; width:150px;" id="NotSelect">
                            <option value="user">ユーザ</option>
                            <option value="theme">テーマ</option>
                            <option value="workcontent">作業内容</option>
                            <option value="detailworkcontent">作業内容詳細</option>
                            <option value="monthlytotal">月別合計</option>
                            <option value="dailytotal">日別合計</option>
                        </select>
                    </div>
                    <div class="col-auto">
                        <div class="mb-2"><button onclick="AddSelect()">追加 →</button></div>
                        <div class="mb-2"><button onclick="RemoveSelect()">← 解除</button></div>
                    </div>
                    <div class="col-auto">
                        <p class="m-0">選択された項目</p>
                        <select multiple style="height:200px; width:150px;" id="Select">
                            <option value="affiliation">所属</option>
                            <option value="overalltotal">全体合計</option>
                        </select>
                    </div>
                    <div class="col-auto">
                        <div class="mb-2"><button onclick="up1()">↑</button></div>
                        <div class="mb-2"><button onclick="down1()">↓</button></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right">サマリ行出力</label>
            <div class="col-md-10">
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="isTotal1" name="isTotal" type="radio" class="custom-control-input" value="1" checked>
                    <label class="custom-control-label" for="isTotal1">出力する</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="isTotal" name="isTotal" type="radio" class="custom-control-input" value="0">
                    <label class="custom-control-label" for="isTotal">出力しない</label>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right">CSV区切り文字</label>
            <div class="col-md-10">
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="typeDelimiter1" name="typeDelimiter" type="radio" class="custom-control-input" value="1" checked>
                    <label class="custom-control-label" for="typeDelimiter1">カンマ</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="typeDelimiter" name="typeDelimiter" type="radio" class="custom-control-input" value="0">
                    <label class="custom-control-label" for="typeDelimiter">タブ</label>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-form-label col-md-2 text-right">CSVシングルクォーテーション付加</label>
            <div class="col-md-10">
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="isSingleQuote1" name="isSingleQuote" type="radio" class="custom-control-input" value="1" checked>
                    <label class="custom-control-label" for="isSingleQuote1">しない</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input id="isSingleQuote" name="isSingleQuote" type="radio" class="custom-control-input" value="0">
                    <label class="custom-control-label" for="isSingleQuote">する</label>
                </div>
            </div>
        </div>

        <div class="d-flex align-items-center justify-content-center py-2">
            <button class="btn btn-outline-secondary" style="width:300px;" onclick="checkform()"><i class="fas fa-list"></i> 画面表示</button>
            <button class="btn btn-outline-secondary" style="width:300px;" onclick="outputCSV()"><i class="fas fa-file-download"></i> CSVダウンロード</button>
        </div>
    </main>

</div>
<div id="AddModal"></div>

@section Scripts{
    <script src="~/js/ManhourReport.js"></script>
}